<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Response</title>

    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="styles/screen.css">
</head>
<body>

  <script type="text/x-handlebars" data-template-name="application">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="navbar-header">
        {{#link-to "responders" classNames="navbar-brand"}}RESPONSE <span class="glyphicon glyphicon-home"></span>{{/link-to}}
      </div>
      <ul class="nav navbar-nav navbar-right">
        <li>{{#link-to "account"}}Account{{/link-to}}</li>
        <li><a href="">Log Out</a></li>
      </ul>
    </nav>

    <div id="main">
      {{outlet}}
     </div>
  </script>

  <script type="text/x-handlebars" data-template-name="responders">
    <div class="row">
      <div class="col-md-8">
        <table class="table table-hover responders">
        {{#each itemController="responder"}}
          <tr {{bind-attr class="statusClass"}}>
            <td>
              <span {{action 'setStatus' 3}} class="glyphicon glyphicon-ok"></span> 
              <span {{action 'setStatus' 2}} class="glyphicon glyphicon-remove"></span> 
              <span {{action 'delete'}} class="glyphicon glyphicon-minus-sign"></span> 
            </td>
            <td>{{ name }}</td>
            <td>{{message}}</td>
          </tr>
        {{/each}}
        </table>
      </div>

      <div class="col-md-4">
        <div class="list-group">
          <a href="" class="list-group-item">
            <h4 class="list-group-item-heading">Set my response</h4>
            <p class="list-group-item-text">Edit your response for the current incident</p>
          </a>
          {{#link-to "account" classNames="list-group-item"}}
            <h4 class="list-group-item-heading">Edit my account</h4>
            <p class="list-group-item-text">Set out of town status, phone numbers, and more</p>
          {{/link-to}}
          </a>
        </div>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="account">
    <div class="row">
      <div class="col-md-4">
        <div class="panel panel-info basic-info">
          <div class="panel-heading">
          <h3 class="panel-title">
            Basic Info
            <span class="glyphicon glyphicon-pencil" {{action "editBasicInfo" on="click"}}></span>
          </h3>
          </div>
          <div class="panel-body">
            <ul class="list-unstyled">
              {{#if isEditingBasicInfo}}
                <li class="names">
                  {{edit-info class="form-control" value=firstName focus-out="acceptChanges" insert-newline="acceptChanges"}}
                  {{edit-info class="form-control" value=lastName focus-out="acceptChanges" insert-newline="acceptChanges"}}
                </li>
                <li>
                  {{edit-info class="form-control" value=email focus-out="acceptChanges" insert-newline="acceptChanges"}}
                </li>
              {{else}}
                <li>
                  {{firstName}} {{lastName}}
                </li>
                <li>
                  {{email}}
                </li>
              {{/if}}
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="panel panel-warning">
          <div class="panel-heading">
          <h3 class="panel-title">
            Out of Town Status
          </h3>
          </div>
          <div class="panel-body">
          </div>
        </div>
      </div>
    </div>
  </script>

  <script src="lib/jquery-1.9.1.js"></script>
  <script src="lib/handlebars-1.0.0.js"></script>
  <script src="lib/ember-1.0.0.js"></script>
  <script src="lib/ember-data-latest.js"></script>
  <script>window.App = Ember.Application.create();</script>
  <script src="bundle.js"></script>

</body>
</html>
